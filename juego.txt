#include <stdio.h>
#include <stdlib.h>
#include <time.h>

int main()
{
    char a[15][30]={
                "#######################",
                "#O*   ##         ###  #",
                "# #*     ##  #   #    #",
                "#  ##  #   #  ##      #",
                "# ### ##  ###* ########",
                "# ###  ##     ####     ",
                "#  ###### ##  ##    ###",
                "#   #   # ## *#  ##   #",
                "## ####  ####   #  ### ",
                "#######################",
                 };//[] esto es el dimension


    time_t t1=time(NULL);//tiempo
    int i,x,y,p,q,estrella=0;
    char ch;
    x=1;y=1;p=5;q=22;
    for(i=0;i<=9;i++)
        puts(a[i]);//salida

    while( x!=p || y!=q )//movimientos
    {
        ch=getch();//no es getchar

        if(ch=='s')
        {
            if(a[x+1][y]=='*')//aÃ±ade puntuacion sobre numero de estrellas
            {
                estrella=estrella+1;
            }
            if(a[x+1][y]!='#')//no chocar
            {
                a[x][y]=' ';//desaparecer
                x++;
                a[x][y]='O';//parecer
            }
        }
        if(ch=='w')
        {
            if(a[x-1][y]=='*')
            {
                estrella=estrella+1;
            }

            if(a[x-1][y]!='#')
            {
                a[x][y]=' ';
                x--;
                a[x][y]='O';
            }
        }
        if(ch=='a')
        {
            if(a[x][y-1]=='*')
            {
                estrella=estrella+1;
            }
            if(a[x][y-1]!='#')
            {
                a[x][y]=' ';
                y--;
                a[x][y]='O';
            }
        }
        if(ch=='d')
        {
            if(a[x][y+1]=='*')
            {
                estrella=estrella+1;
            }
            if(a[x][y+1]!='#')
            {
                a[x][y]=' ';
                y++;
                a[x][y]='O';
            }
        }
        system("cls");
        for(i=0;i<=9;i++)
            puts(a[i]);
    }
    system("cls");
    printf("You win\n");
    printf("Tu puntuacion de estrellas es de %i\n",estrella);

    printf("Tiempo", time(NULL)-t1);

    system("pause");
    return 0;
}

#include<stdio.h>
#define N 15
#define M 3//NIVELES
int level=1;
int x, y;
int map[M][N][N]={

    {
    {1,1,1,1,1,1,0,0,0,0,0,0,0,0,0},
    {1,1,1,1,1,1,3,1,1,0,0,0,0,0,0},
    {1,1,1,1,1,1,0,0,1,0,0,0,0,0,0},
    {1,1,1,1,1,1,0,0,1,0,0,0,0,0,0},
    {1,1,1,1,1,1,0,0,1,0,0,0,0,0,0},
    {1,1,1,1,1,1,0,0,1,0,0,0,0,0,0},
    {1,1,1,1,1,1,0,0,1,1,1,0,0,0,0},
    {1,1,1,1,1,1,0,0,0,0,1,0,0,0,0},
    {1,1,1,1,1,1,0,0,0,0,1,1,1,0,0},
    {1,1,1,1,1,1,0,0,0,0,0,0,1,0,0},
    {1,1,1,1,1,1,0,0,0,0,0,0,1,1,4},
    {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
    {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
    {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
    {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},

},
{
    {1,1,0,1,1,1,0,0,0,0,0,0,0,0,0},
    {1,1,0,1,1,1,3,1,1,0,0,0,0,0,0},
    {1,1,0,1,1,1,0,0,1,0,0,0,0,0,0},
    {1,1,0,1,1,1,0,0,1,0,0,0,0,0,0},
    {1,1,0,1,1,1,0,0,1,0,0,0,0,0,0},
    {1,1,0,1,1,1,0,0,1,0,0,0,0,0,0},
    {1,1,0,1,1,1,0,0,1,1,1,0,0,0,0},
    {1,1,0,1,1,1,0,0,0,0,1,0,0,0,0},
    {1,1,0,1,1,1,0,0,0,0,1,1,1,0,0},
    {1,1,0,1,1,1,0,0,0,0,0,0,1,0,0},
    {1,1,0,1,1,1,0,0,0,0,0,0,1,1,4},
    {1,1,0,1,1,1,1,1,1,1,1,1,1,1,1},
    {1,1,0,0,0,0,0,0,0,0,0,0,0,0,0},
    {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
    {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
},
{
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
    {0,3,1,1,0,1,0,0,0,0,0,0,0,0,0},
    {0,0,1,1,1,1,0,0,0,0,0,0,0,0,0},
    {0,0,1,1,0,1,0,0,0,0,0,0,0,0,0},
    {0,0,1,0,0,1,0,0,0,0,0,0,0,0,0},
    {0,0,1,1,0,1,0,0,0,0,0,0,0,0,0},
    {0,0,0,1,0,0,0,0,0,0,0,0,0,0,0},
    {0,1,1,1,0,0,0,0,0,0,0,0,0,0,0},
    {0,1,0,0,0,0,0,0,0,0,0,0,0,0,0},
    {0,1,0,0,0,0,0,0,0,0,0,0,0,0,0},
    {0,1,1,1,1,1,1,1,1,1,1,1,0,0,0},
    {0,0,0,0,0,0,0,0,0,0,0,1,0,0,0},
    {0,0,0,0,0,0,0,0,0,0,0,1,0,0,0},
    {0,0,0,0,0,0,0,0,0,0,0,1,1,1,0},
    {0,0,0,0,0,0,0,0,0,0,0,0,0,4,0},
},
};
void print();
void menu();
void posicion();
int move();
int main(void)
{
    menu();
    while(1)
    {
        posicion();
        print();
        move();
    }

    return 0;
}
void posicion()//POSICION DEL PERSONAJE
{
    int i=0, j=0;
    for(i=0;i<N;i++)
    {
        for(j=0;j<N; j++)
        {
        if(map[level][i][j]==3)
               {
                   x=i;
                   y=j;
                   break;
               }
        }
    }
}

int move()
{
    while(1)
    {
        switch(getch())
        {
            case 'w': printf("w\n");
            break;
            case 'a': printf("a\n");
            break;
            case 's': printf("s\n");
            break;
            case 'd': printf("d\n");
            break;
        }
    }
}
void menu()
{
    char select [10];
    printf("los comandos es WASD, para salir pulsa 0\n");
    printf("Diga el nivel(1,2,3):");
    while(1) //ELEGIR LOS NIVELES
    {
         scanf("%c", select);

             if('1'==select[0])
             {
                 level=0;
                 break;
             }
             else if('2'==select[0])
             {
                 level=1;
                 break;
             }
             else if('3'==select[0])
             {
                 level=2;
                 break;
             }
             else
             {
                 printf("Error, intenta de nuevo");
             }

         }printf("%d\n",level);
    }


void print()
{
    int i=0, j=0;
    system("cls");
    for(i=0;i<N;i++)
    {
        for(j=0;j<N; j++)
        {
            if(map[level][i][j]==0)
                printf("#");//PARED
            else if(map[level][i][j]==3)
                printf("O");//PERSONAJE
            else if(map[level][i][j]==1)
                printf(" ");//ESPACIO
            else if(map[level][i][j]==4)
                printf("+");//SALIDA
        }
        printf("\n");
    }
}
